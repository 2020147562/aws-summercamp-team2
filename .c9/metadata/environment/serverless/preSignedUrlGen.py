{"filter":false,"title":"preSignedUrlGen.py","tooltip":"/serverless/preSignedUrlGen.py","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":28,"column":0},"action":"insert","lines":["import json","import boto3","import os","","s3 = boto3.client('s3')","","def lambda_handler(event, context):","    bucket_name = os.environ.get('BUCKET_NAME')","    object_name = event['queryStringParameters']['filename']","    ","    presigned_url = s3.generate_presigned_url(","        'put_object',","        Params={","            'Bucket': bucket_name,","            'Key': object_name,","            'ContentType': 'image/jpeg'  # 업로드할 파일의 MIME 타입","        },","        ExpiresIn=3600","    )","    ","    return {","        'statusCode': 200,","        'headers': {","            'Access-Control-Allow-Origin': '*',","            'Content-Type': 'application/json'","        },","        'body': json.dumps({'url': presigned_url})","    }",""],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":13,"column":34},"end":{"row":13,"column":34},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1723797846024,"hash":"91c24ab9fd7422023839ddddfabcccca4c5cfcb7"}